'use strict';const fs=require("fs"),path=require("path");console.log("\ud83e\uddf9 Final root directory cleanup...");
const createDirectories=()=>{"scripts/utils scripts/db docs/development docs/deployment docs/api config public/images public/screenshots test-results playwright-report".split(" ").forEach(a=>{fs.existsSync(a)||(fs.mkdirSync(a,{recursive:!0}),console.log(`\ud83d\udcc1 Created directory: ${a}`))})},fileMoves=[{from:"create-test-user.js",to:"scripts/utils/create-test-user.js"},{from:"create-test-user.min.js",to:"scripts/utils/create-test-user.min.js"},{from:"test-dashboard.js",to:"scripts/utils/test-dashboard.js"},
{from:"test-dashboard.min.js",to:"scripts/utils/test-dashboard.min.js"},{from:"test-login.min.js",to:"scripts/utils/test-login.min.js"},{from:"test-prisma.js",to:"scripts/utils/test-prisma.js"},{from:"test-prisma.min.js",to:"scripts/utils/test-prisma.min.js"},{from:"test-refresh.js",to:"scripts/utils/test-refresh.js"},{from:"EMERGENCY_REFACTORING_GUIDE.md",to:"docs/development/EMERGENCY_REFACTORING_GUIDE.md"},{from:"test-screenshot.png",to:"public/images/test-screenshot.png"},{from:"person-not-found.png",
to:"public/images/person-not-found.png"},{from:"after-form-submission.png",to:"public/images/after-form-submission.png"},{from:"after-person-creation.png",to:"public/images/after-person-creation.png"},{from:"after-refresh.png",to:"public/images/after-refresh.png"},{from:".eslintrc.json",to:"config/.eslintrc.json"},{from:".dockerignore",to:"config/.dockerignore"},{from:"vercel.json",to:"config/vercel.json"},{from:"env.example",to:"config/env.example"},{from:"env.production.example",to:"config/env.production.example"},
{from:"backup-1754321652066.json",to:"scripts/db/backup-1754321652066.json"},{from:"tsconfig.tsbuildinfo",to:null},{from:"package.json.backup",to:null}],moveFiles=()=>{fileMoves.forEach(a=>{try{fs.existsSync(a.from)?null===a.to?(fs.unlinkSync(a.from),console.log(`\ud83d\uddd1\ufe0f  Deleted: ${a.from}`)):(fs.renameSync(a.from,a.to),console.log(`\ud83d\udce6 Moved: ${a.from} -> ${a.to}`)):console.log(`\u26a0\ufe0f  File not found: ${a.from}`)}catch(b){console.error(`\u274c Error processing ${a.from}:`,
b.message)}})},updatePackageScripts=()=>{try{let a=fs.readFileSync("package.json","utf8");const b=JSON.parse(a);b.scripts&&Object.keys(b.scripts).forEach(d=>{const c=b.scripts[d];c.includes("create-test-user.js")&&(b.scripts[d]=c.replace("create-test-user.js","scripts/utils/create-test-user.js"));c.includes("test-dashboard.js")&&(b.scripts[d]=c.replace("test-dashboard.js","scripts/utils/test-dashboard.js"));c.includes("test-prisma.js")&&(b.scripts[d]=c.replace("test-prisma.js","scripts/utils/test-prisma.js"))});
fs.writeFileSync("package.json",JSON.stringify(b,null,2));console.log("\u2705 Updated package.json scripts")}catch(a){console.error("\u274c Error updating package.json:",a.message)}},updateGitignore=()=>{try{let a=fs.readFileSync(".gitignore","utf8");a+="\n# Build artifacts\ntsconfig.tsbuildinfo\n\n# Test results\ntest-results/\nplaywright-report/\n\n# Screenshots\npublic/images/*.png\n!public/images/\n\n# Backup files\n*.backup\nbackup-*.json";fs.writeFileSync(".gitignore",a);console.log("\u2705 Updated .gitignore")}catch(a){console.error("\u274c Error updating .gitignore:",
a.message)}},createStructureSummary=()=>{fs.writeFileSync("docs/development/FINAL_STRUCTURE_SUMMARY.md","# \ud83d\udcc1 Final Root Directory Structure\n\n## \u2705 Clean Root Directory\n```\nhistorian_app/\n\u251c\u2500\u2500 \ud83d\udcc1 app/                    # Next.js App Router (main application)\n\u251c\u2500\u2500 \ud83d\udcc1 tests/                  # Test files\n\u251c\u2500\u2500 \ud83d\udcc1 docs/                   # Documentation\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 development/       # Development guides\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 deployment/        # Deployment guides\n\u2502   \u2514\u2500\u2500 \ud83d\udcc1 api/               # API documentation\n\u251c\u2500\u2500 \ud83d\udcc1 config/                 # Configuration files\n\u2502   \u251c\u2500\u2500 next.config.mjs\n\u2502   \u251c\u2500\u2500 jest.config.js\n\u2502   \u251c\u2500\u2500 playwright.config.ts\n\u2502   \u251c\u2500\u2500 .eslintrc.json\n\u2502   \u251c\u2500\u2500 vercel.json\n\u2502   \u251c\u2500\u2500 env.example\n\u2502   \u2514\u2500\u2500 env.production.example\n\u251c\u2500\u2500 \ud83d\udcc1 docker/                 # Docker configuration\n\u251c\u2500\u2500 \ud83d\udcc1 scripts/                # Build and utility scripts\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 utils/             # Utility scripts\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 db/                # Database scripts\n\u2502   \u2514\u2500\u2500 \ud83d\udcc1 build/             # Build scripts\n\u251c\u2500\u2500 \ud83d\udcc1 public/                 # Static assets\n\u2502   \u251c\u2500\u2500 \ud83d\udcc1 images/            # Images and screenshots\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 \ud83d\udcc1 prisma/                 # Database schema and migrations\n\u251c\u2500\u2500 \ud83d\udcc1 test-results/           # Test results\n\u251c\u2500\u2500 \ud83d\udcc1 playwright-report/     # Playwright test reports\n\u251c\u2500\u2500 package.json               # Dependencies and scripts\n\u251c\u2500\u2500 tsconfig.json              # TypeScript configuration\n\u251c\u2500\u2500 .gitignore                 # Git ignore rules\n\u251c\u2500\u2500 README.md                  # Project documentation\n\u2514\u2500\u2500 .next/                     # Next.js build output\n```\n\n## \ud83d\uddd1\ufe0f Files Removed from Root\n- `tsconfig.tsbuildinfo` - Build artifact (regenerated)\n- `package.json.backup` - Backup file (no longer needed)\n- `EMERGENCY_REFACTORING_GUIDE.md` - Moved to docs/development/\n- All test scripts moved to scripts/utils/\n- All screenshots moved to public/images/\n- All configuration files moved to config/\n\n## \ud83c\udfaf Benefits\n- \u2705 **Clean root directory** - Only essential files remain\n- \u2705 **Organized structure** - Everything has its proper place\n- \u2705 **Better discoverability** - Related files grouped together\n- \u2705 **Easier maintenance** - Clear separation of concerns\n- \u2705 **Professional appearance** - Follows industry standards\n");
console.log("\u2705 Created structure summary")};
try{console.log("\ud83c\udfd7\ufe0f Starting root directory cleanup..."),createDirectories(),moveFiles(),updatePackageScripts(),updateGitignore(),createStructureSummary(),console.log("\ud83c\udf89 Root directory cleanup complete!"),console.log("\ud83d\udccb Summary:"),console.log("   - Moved test scripts to scripts/utils/"),console.log("   - Moved documentation to docs/development/"),console.log("   - Moved screenshots to public/images/"),console.log("   - Moved config files to config/"),console.log("   - Deleted build artifacts and backups"),
console.log("   - Updated package.json and .gitignore"),console.log(""),console.log("\ud83d\ude80 Your root directory is now clean and organized!")}catch(a){console.error("\u274c Error during cleanup:",a),process.exit(1)};